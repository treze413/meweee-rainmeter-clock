[Rainmeter]
Update=1
AccurateText=1
DynamicWindowSize=1

[Metadata]
Name=MeWeee Clock
Author=Pedro
Version=7.1

; =========================
; VARIABLES
; =========================

[Variables]
FontName=Segoe UI Light

FontSizeHeader=34
FontSizeLabel=28
FontSizeNumber=96
FontSizeSmall=14
FontSizeUrgency=18

ColorText=204,204,204,200
ColorPrimary=255,255,255,235
ColorSecondary=255,255,255,180
ColorUrgency=255,120,120,220
ColorBarBg=255,255,255,35

; Countdown span: 1 Jan 2026 â†’ 31 Dec 2027
TotalSpanDays=729

BarWidth=290
BarHeight=20
BarRadius=10
ProgressBlockY=90

; =========================
; MEASURES
; =========================

[MeasureDaysLeft]
Measure=Script
ScriptFile=#@#MeWeee_Countdown.lua

[MeasureWeeksLeft]
Measure=Calc
Formula=Floor([MeasureDaysLeft] / 7)
DynamicVariables=1

[MeasureDaysSpent]
Measure=Calc
Formula=#TotalSpanDays# - [MeasureDaysLeft]
DynamicVariables=1

[MeasurePercent]
Measure=Calc
Formula=Clamp(([MeasureDaysLeft] / #TotalSpanDays#) * 100, 0, 100)
DynamicVariables=1

[MeasurePercentRound]
Measure=Calc
Formula=Round([MeasurePercent])
DynamicVariables=1

[MeasureBarColor]
Measure=Script
ScriptFile=#@#MeWeeeCountdown.lua
Function=GetBarColor

[MeasureTimeLeftHMS]
Measure=Script
ScriptFile=#@#MeWeee_Countdown.lua
Function=GetTimeLeftHMS
UpdateDivider=1

; =========================
; METERS
; =========================

[MeterTitle]
Meter=String
X=0
Y=0
FontFace=#FontName#
FontSize=#FontSizeHeader#
FontColor=#ColorText#
AntiAlias=1
Text=MeWeee's Clock 

[MeterBarBg]
Meter=Shape
X=0
Y=#ProgressBlockY#
Shape=Rectangle 0,0,#BarWidth#,#BarHeight#,#BarRadius#
Fill Color #ColorBarBg#

[MeterBarFill]
Meter=Shape
DynamicVariables=1
X=0
Y=#ProgressBlockY#
Shape=Rectangle 0,0,Max(6, ([MeasurePercent] / 100) * #BarWidth#),#BarHeight#,#BarRadius#
Fill Color [MeasureBarColor]

[MeterBarPercent]
Meter=String
X=(#BarWidth# + 12)
Y=(#ProgressBlockY# + (#BarHeight#/2))
FontFace=#FontName#
FontSize=#FontSizeSmall#
FontColor=[MeasureBarColor]
StringAlign=LEFTCENTER
AntiAlias=1
Text=[MeasurePercentRound]%
DynamicVariables=1

[MeterDaysSpent]
Meter=String
X=0
Y=(#ProgressBlockY# + #BarHeight# + 12)
FontFace=#FontName#
FontSize=#FontSizeSmall#
FontColor=#ColorText#
AntiAlias=1
Text=[MeasureDaysSpent] / #TotalSpanDays# days spent
DynamicVariables=1

[MeterDays]
Meter=String
X=0
Y=(#ProgressBlockY# + 60)
FontFace=#FontName#
FontSize=#FontSizeNumber#
FontColor=#ColorPrimary#
AntiAlias=1
Text=[MeasureDaysLeft]
DynamicVariables=1

[MeterDaysLabel]
Meter=String
X=200
Y=(#ProgressBlockY# + 90)
FontFace=#FontName#
FontSize=#FontSizeLabel#
FontColor=#ColorText#
AntiAlias=1
Text=Days

[MeterWeeks]
Meter=String
X=0
Y=(#ProgressBlockY# + 200)
FontFace=#FontName#
FontSize=#FontSizeNumber#
FontColor=#ColorSecondary#
AntiAlias=1
Text=[MeasureWeeksLeft]
DynamicVariables=1

[MeterWeeksLabel]
Meter=String
X=200
Y=(#ProgressBlockY# + 234)
FontFace=#FontName#
FontSize=#FontSizeLabel#
FontColor=#ColorText#
AntiAlias=1
Text=Weeks


